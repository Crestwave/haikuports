SUMMARY="Make a fortune dealing drugs on the streets of New York"
DESCRIPTION="dopewars is a free Unix/Win32 rewrite of a game originally based \
on \"Drug Wars\" by John E. Dell. The idea of dopewars is to deal in drugs on \
the streets of New York, amassing a huge fortune and paying off the loan \
shark, while avoiding the ever-annoying police. The Unix/Win32 rewrite, as \
featuring a so-called \"antique\" mode which closely follows the original, \
introduces new features such as the ability to take part in multi-player \
games. dopewars aims to be highly configurable, and what you can't change in \
the configuration files you can change by poking around in the source, which \
is freely available under the terms of the GNU General Public License.

ADVISORY: dopewars is not recommended for children below 16 without parental \
supervision. We also do not condone real-life drug dealing."
HOMEPAGE="https://dopewars.sourceforge.io/"
COPYRIGHT="1999-2005 dopewars developers"
LICENSE="GNU GPL v2"
REVISION="1"
SOURCE_URI="https://downloads.sourceforge.net/dopewars/dopewars-$portVersion.tar.gz"
CHECKSUM_SHA256="23059dcdea96c6072b148ee21d76237ef3535e5be90b3b2d8239d150feee0c19"

ARCHITECTURES="x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86"

GLOBAL_WRITABLE_FILES="
	var/dopewars.sco keep-old
	"

PROVIDES="
	dopewars$secondaryArchSuffix = $portVersion
	cmd:dopewars$secondaryArchSuffix
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libglib$secondaryArchSuffix
	lib:libncurses$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libglib$secondaryArchSuffix
	devel:libncurses$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	runConfigure --omit-dirs "dataRootDir docDir" ./configure --build=x86
	make $jobArgs
}

INSTALL()
{
	make install
}
